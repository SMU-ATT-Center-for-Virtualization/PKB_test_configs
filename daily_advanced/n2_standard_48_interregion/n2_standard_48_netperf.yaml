netperf:
  flag_matrix: inter_region
  flag_matrix_filters:
    inter_region: "zones < extra_zones"
  flag_matrix_defs:
    inter_region:
      gce_network_tier: [premium]
      zones: [us-central1-b,us-east1-b,us-west1-b]
      extra_zones: [us-central1-b,us-east1-b,us-west1-b]
      machine_type: [n2-standard-48]
  flags:
    cloud: GCP
    ip_addresses: INTERNAL
    gce_egress_bandwidth_tier: TIER_1
    tcp_max_receive_buffer: 500000000
    tcp_max_send_buffer: 500000000
    gce_nic_type: GVNIC
    # Note: Below is a custom image based on ubuntu2004 with GVNIC enabled
    # To create a similar image, follow this guide:
    # https://cloud.google.com/compute/docs/networking/using-gvnic
    image: ubuntu-20-gvnic
    image_project: <my_project>
    bigquery_table: <dataset>.<table>
    bq_project: <my_project>
    netperf_histogram_buckets: 1000
    netperf_benchmarks: TCP_RR,TCP_STREAM,UDP_RR
    netperf_test_length: 30
    netperf_num_streams: 1,32
    netperf_tcp_stream_send_size_in_bytes: 131072
    tcp_max_receive_buffer: 500000000
    tcp_max_send_buffer: 500000000
    network_enable_BBR: True
    mtu: 1500
    record_lscpu: True
    record_proccpu: True
    record_cpu_vuln: False
    record_gcc: False
    record_glibc: False
    os_type: ubuntu2004

